# ============================
# Application Settings
# ============================
APP_NAME=Expense Tracker API
APP_VERSION=1.0.0
APP_ENV=development  # development, staging, production
DEBUG=true
LOG_LEVEL=info  # debug, info, warning, error, critical

# API Configuration
API_V1_PREFIX=/api/v1
ALLOWED_HOSTS=localhost,127.0.0.1
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ============================
# Database Settings (PostgreSQL)
# ============================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=expense_user
POSTGRES_PASSWORD=change_this_secure_password_123!
POSTGRES_DB=expense_tracker

# Database URL (auto-constructed or override)
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Connection Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ============================
# Redis Settings
# ============================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=change_this_redis_password_456!
REDIS_DB=0
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# Cache Settings
CACHE_TTL=3600  # seconds
CACHE_ENABLED=true

# ============================
# Security & Authentication
# ============================
# Generate with: openssl rand -hex 32
SECRET_KEY=change_this_to_a_secure_random_secret_key_minimum_32_characters
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Requirements
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGITS=true
PASSWORD_REQUIRE_SPECIAL=true

# ============================
# Email Settings (Optional)
# ============================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM_EMAIL=noreply@expensetracker.com
SMTP_FROM_NAME=Expense Tracker
SMTP_TLS=true
SMTP_SSL=false

# ============================
# File Upload Settings
# ============================
UPLOAD_DIR=./uploads
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes
ALLOWED_EXTENSIONS=jpg,jpeg,png,pdf,csv

# ============================
# Rate Limiting
# ============================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================
# External Services (Optional)
# ============================
# AWS S3
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=

# Sentry Error Tracking
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ============================
# Background Tasks (Optional)
# ============================
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/1
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/2

# ============================
# Testing Settings
# ============================
TEST_DATABASE_URL=postgresql+asyncpg://test_user:test_pass@localhost:5432/test_expense_tracker

# ============================
# Monitoring & Observability
# ============================
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_TRACING=false

# ============================
# Feature Flags
# ============================
FEATURE_EMAIL_VERIFICATION=true
FEATURE_TWO_FACTOR_AUTH=false
FEATURE_SOCIAL_LOGIN=false

# ============================
# Business Logic Settings
# ============================
DEFAULT_CURRENCY=USD
SUPPORTED_CURRENCIES=USD,EUR,GBP,NGN
MAX_EXPENSE_AMOUNT=1000000
EXPENSE_CATEGORIES=Food,Transport,Entertainment,Utilities,Healthcare,Shopping,Other

# ============================
# Pagination
# ============================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100